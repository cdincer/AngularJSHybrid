<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Jqueryconv</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <title>The very first family chart</title>

</head>
<body>

  <app-root></app-root>
  <br>
  <br>
  <br>
  
<script> //Our main iniator.
  var items = [
                  { id: 1, title: "Thomas Williams", label: "General Manager", description: "General Manager Personel ID:1", image: "" },
                 { id: 4, parents: [1, 2], title: "Brad Williams", label: "Brad Williams", description: "Vice President Personel ID:4", image: "" },
                  { id: 5, parents: [4, 1], title: "Mike Kirby", label: "Mike Kirby", description: "Area Manager  Personel ID:5", image: ""},
                  {id: 6, parents: [ 1,5], title: "Underling of Mike Kirby", label: "", description: "Area Manager  Personel ID:6", image: ""}
              ]; //Our main repository of people.
          function myFunction2()
{

  var options = new primitives.famdiagram.Config();
  
         
              options.arrowsDirection = primitives.common.GroupByType.Parents;
              options.items = items;
              options.cursorItem = 2;
              options.linesWidth = 1;
              options.linesColor = "black";
              options.hasSelectorCheckbox = primitives.common.Enabled.False;
              options.normalLevelShift = 20;
              options.dotLevelShift = 20;
              options.lineLevelShift = 20;
              options.normalItemsInterval = 10;
              options.dotItemsInterval = 10;
              options.lineItemsInterval = 10;
              $("#basicdiagram").famDiagram(options);

}
</script>

<script>
function additem() //Main item adder.
{                 



  var options = new primitives.famdiagram.Config();

  var items2 = items;

var IDvar;
IDvar =frm1.elements["IDname"].value; //How to take values from a form.
Parvar=frm1.elements["Parentsname"].value;
Spovar=frm1.elements["Spousename"].value;
Titvar=frm1.elements["Titlename"].value;
Descvar=frm1.elements["Descriptionname"].value;
console.log("Our untouched entry values");
console.log(Parvar);
var array = JSON.parse("["+ Parvar +"]"); //We convert to array here.
console.log("Our touched array is below:");
console.log(array);
console.log("Our untouched array is below,hand entered:");
console.log(items[1].parents);

// var soleitem=[ new primitives.famdiagram.ItemConfig({ id:IDvar,parents:})];

items2.push({id:IDvar, parents:array,spouse:[Spovar],title:[Titvar], label: "", description: Descvar +" Personel ID:"+ IDvar, image: "" }); //Form'dan özellik alması için.

              options.arrowsDirection = primitives.common.GroupByType.Parents;
              options.items = items2;
              options.cursorItem = 2;
              options.linesWidth = 1;
              options.linesColor = "black";
              options.hasSelectorCheckbox = primitives.common.Enabled.False;
              options.normalLevelShift = 20;
              options.dotLevelShift = 20;
              options.lineLevelShift = 20;
              options.normalItemsInterval = 10;
              options.dotItemsInterval = 10;
              options.lineItemsInterval = 10;

              $("#basicdiagram").famDiagram(options);

}
</script>

<script>
    function additem2() //Item Updater.
    {                 
    
    
      var options = new primitives.famdiagram.Config();
    
      var items2 = items;
   //How to take values from a form.
   IDvar =frm1.elements["IDname"].value; //How to take values from a form.
   Parvar=frm1.elements["Parentsname"].value;
   Spovar=frm1.elements["Spousename"].value;
   Titvar=frm1.elements["Titlename"].value;
   Descvar=frm1.elements["Descriptionname"].value;
   var array = JSON.parse("["+ Parvar +"]"); //We convert to array here.

        for(var i=0, len=items2.length; i<len;i++) //Looping through the array to find a match.
        {
         if(Titvar==items2[i].title)   
          {
            IDvar = items2[i].id;
            console.log(items2[i]);
            items2.splice(i);
            
          }
        }

        items2.push({id:IDvar, parents:array,spouse:[Spovar],title:[Titvar], label: "", description: Descvar +" Personel ID:"+ IDvar, image: "" }); //Form'dan özellik alması için.

        
                  options.arrowsDirection = primitives.common.GroupByType.Parents;
                  options.items = items2;
                  options.cursorItem = 2;
                  options.linesWidth = 1;
                  options.linesColor = "black";
                  options.hasSelectorCheckbox = primitives.common.Enabled.False;
                  options.normalLevelShift = 20;
                  options.dotLevelShift = 20;
                  options.lineLevelShift = 20;
                  options.normalItemsInterval = 10;
                  options.dotItemsInterval = 10;
                  options.lineItemsInterval = 10;   
                  $("#basicdiagram").famDiagram(options);

    
    }
    </script>

  


  <form class="form-horizontal"id="frm1" action="">
      <div class="col-md-4">          
    ID: <input type="text" name="IDname" class="form-control input-md"placeholder="Enter a unique ID"><br>
    Superiors:<input type="text" name="Parentsname" class="form-control input-md"placeholder="Optional field"><br>
    Equals: <input type="text" name="Spousename" class="form-control input-md" placeholder="Optional field"><br>        
    Title: <input type="text" name="Titlename" class="form-control input-md" placeholder="Enter a title"><br>
    Description: <input type="text" name="Descriptionname" class="form-control input-md"placeholder="Enter a description">
  </div>
  <br>
    <button type="button" class="form-control input-md" onclick="myFunction2()">Initliaze Button</button>
    <button type="button" class="form-control input-md" onclick="additem()">Add A New Member </button>
    <button type="button" class="form-control input-md" onclick="additem2()">Update A Member </button>
    
  </form> 
  
</body>
</html>
